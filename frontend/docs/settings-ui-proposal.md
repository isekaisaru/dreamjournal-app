# 設定ページ（おとなのきまり）UI 改善提案

対象：Next.js (App Router) の設定ページ。既存実装は `frontend/app/settings/page.tsx` の単一コンポーネント構成で、削除モーダルのみを提供しています。新しい API や DB は追加しません。

## 1. React コンポーネント構成案（シンプル&読みやすさ重視）

```
app/
└─ settings/
   ├─ page.tsx                // ルーティング兼ページラッパー
   ├─ SettingsLayout.tsx      // タイトル・説明・共通余白をまとめる
   ├─ SettingsSection.tsx     // About/Privacy/Help のカード風セクション
   ├─ HelperLinks.tsx         // よくある質問や連絡方法のリンクリスト
   ├─ DangerZone.tsx          // 削除アクションの専用カード
   └─ ConfirmDeleteDialog.tsx // 二段階確認ダイアログ（既存削除ハンドラを使用）
```

- **page.tsx**：`SettingsLayout` で全体を包み、4 つのセクション（About / Privacy / Help / Delete Account）を順序づけて配置。状態管理は削除関連だけに限定。
- **SettingsLayout**：ヘッダー（タイトル・導入テキスト）とセクションの縦並びを提供。レスポンシブな余白と最大幅を揃える。
- **SettingsSection**：タイトル・説明・任意の子要素（テキストやリンク）を受け取るシンプルなカード。Tailwind のトークンだけで装飾。
- **HelperLinks**：問い合わせ先・FAQ・ヘルプ動画などのリンクリスト。アイコンと短い説明を添えて誤タップを防ぐ。
- **DangerZone**：削除専用カード。背景を淡い警告色にし、本文で「大人に相談」メッセージを強調。
- **ConfirmDeleteDialog**：既存の `deleteUser` を呼ぶ二段階確認ダイアログ。確認文言と選択肢を明示し、閉じる操作を優先配置。

## 2. 子ども向け誤操作防止の UI 工夫（文言・ボタン配置）

- **優しいトーンのリード文**：ページ冒頭に「わからないときは大人といっしょに見てね」を明示。
- **誤タップ防止のボタン配置**：主要アクションを縦積み・広いタップ領域で配置。削除系は最下部の専用カード内に隔離。
- **色と視覚シグナル**：安全な情報セクションは中立背景、危険操作は淡い赤系背景＋アイコンで注意を促す。
- **リンクの説明添え**：ヘルプやプライバシーリンクに一言説明を付け、遷移先の内容を予告。
- **確認ダイアログの選択肢順序**：左（または上）に「やめる」、右（または下）に「つづける」を配置し、キャンセルを先に見せる。
- **チェックボックスによる意図確認**：削除前に「大人と相談しました」にチェックさせ、誤操作を抑止。
- **集中レイアウト**：モーダルは全画面オーバーレイ＋スクロールロックで、背景のタップを抑止。

## 3. 既存削除機能を安全に見せる UI 改善案

- **段階的説明＋強調文**：削除カードに「データは元に戻せません」「まずログアウトで様子を見る」などの短文を置き、慎重さを促す。
- **二段階モーダル**：削除ボタン → 確認ダイアログ → チェックボックス確認 → 最終「削除する」ボタン。既存の `deleteUser` 呼び出しをこの最終ボタンに限定。
- **非アクティブ状態の明示**：削除処理中はボタンを `disabled` にし、スピナー／「削除中…」で進行を可視化（現状の状態管理を流用）。
- **キャンセル導線の強調**：モーダルの主要ボタンを「やめる」にし、色も中立色で目立たせる。閉じるアイコンも追加して即座に戻れるようにする。
- **視覚的階層**：削除カードは枠線＋アイコン＋淡色背景で「特別扱い」を示し、スクロール時も最下部に置いて誤クリックを避ける。
- **文言例**：
  - 見出し：「アカウントを消すまえに」
  - 補足：「まず大人に相談してください。消すと記録は戻りません。」
  - モーダルチェック項目：「大人といっしょに確認しました」

## 4. 実装メモ（現行コードを踏まえて）

- 現行 `page.tsx` の削除ハンドラと状態（`isModalOpen`, `isDeleting`, `deleteUser`, `logout`）はそのまま流用し、UI 部分のみ分割する。【F:frontend/app/settings/page.tsx†L1-L77】
- 新規コンポーネントは `app/settings` 直下に配置すれば依存は局所化され、App Router の構造を崩さずに済む。
- すべてクライアントコンポーネントで完結し、API 追加や DB 変更は不要。
