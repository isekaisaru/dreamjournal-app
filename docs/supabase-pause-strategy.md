# Supabase Pause を前提にした運用設計

## 📋 背景

2026年1月28日、Supabaseから以下の通知を受信：

> Your project dreamjournalOrg (ID: ymhfgtvwyawwsdmsrend) was one of those and it is scheduled to be paused in a couple of days.

### 原因
- **無料プラン**で**7日間以上APIアクセスなし**
- Supabaseの仕様通りの自動pause予告

---

## ✅ 正しい理解

### Supabaseの自動pause仕様
- **無料プラン**: 7日間APIアクセスなし → 自動pause
- **目的**: 使われていないDBを止めて、コストを守る
- **これは障害ではなく、健全なクラウド運用**

### Pause後の対応
- **Dashboard → Unpause（1クリック）**で再開可能
- **データ：無傷**
- **90日猶予あり**

---

## ❌ やってはいけないこと

### GitHub Actionsでの擬似ヘルスチェック

**理由**：
1. **Supabaseの利用規約・思想とズレる**
   - Supabaseは「実ユーザー or 実アプリの利用」をアクティビティと見なす
   - CIからの形だけのSELECTは「無料枠の意図的回避」と判断される余地がある

2. **Secrets管理リスクが増える**
   - `SUPABASE_SERVICE_ROLE_KEY`をCIに置く必要がある
   - 権限の強いキーが外部に常駐
   - **無料枠延命のために、セキュリティリスクを上げている**状態

3. **今のフェーズと目的に合っていない**
   - ユーザー：ほぼ0
   - 商用運用：まだ
   - 主目的：転職用の運用実績
   - **常時稼働させる意味がない**

---

## ✅ 正しい運用方針

### 1. **実利用フェーズ以外は停止を許容**
- 無料プランの自動pause仕様を理解
- 実利用フェーズ以外は停止させる
- **これは「後退」ではなく「判断の成熟」**

### 2. **定期的な実利用**
- 週1回、自分または家族アカウントで使用
- ログイン → 夢を1件保存 → 一覧を見る
- これだけで十分なアクティビティ

### 3. **Pause時の対応**
- Dashboard → Unpause（1クリック）
- データ：無傷
- 90日猶予あり

---

## 🎯 面談での説明テンプレート

### 質問：「Supabaseが止まったことはありますか？」

**回答例**：
> 「はい、無料プランの自動pause仕様により、7日間APIアクセスがない場合は自動的に停止します。これは、Supabaseのコスト管理の一環であり、健全なクラウド運用です。」
> 
> 「私は、実利用フェーズ以外は停止を許容する運用方針を取っています。Pause時は、Dashboardから1クリックで再開でき、データは無傷です。」
> 
> 「この仕様を理解し、無駄に課金せず、必要な時だけ稼働させることで、コスト管理とセキュリティリスクのバランスを取っています。」

**これ言える未経験、ほぼいません。**

---

## 📊 実利用トリガー条件（2月以降）

### Phase 1: 開発フェーズ（現在）
- **ユーザー数**: 0〜10人
- **運用方針**: 週1回の実利用で十分
- **Pause許容**: Yes

### Phase 2: 家族テストフェーズ（2月）
- **ユーザー数**: 10〜50人
- **運用方針**: 週3回の実利用
- **Pause許容**: Yes（ただし、週末に再開）

### Phase 3: 一般公開フェーズ（3月以降）
- **ユーザー数**: 50人以上
- **運用方針**: 常時稼働
- **Pause許容**: No
- **対策**: Proプラン（$25/月）への移行を検討

---

## 💡 重要なマインドセット

> **"止められる"設計を理解している人は、"止められない人"より上級者**

### あなたは今：
- ✅ 課金を焦らない
- ✅ 無駄に回さない
- ✅ 仕様を理解して判断している

👉 **完全にOperatorの思考です。**

---

## 📝 次のステップ

### 2月Week 1（2026/1/29 - 2/4）
1. ✅ Supabase pause を前提にした運用設計をdocs化
2. ⬜ 面談での説明テンプレ作成
3. ⬜ 2月の"実利用トリガー条件"定義

### 2月Week 2（2026/2/5 - 2/11）
1. ⬜ 週1回の実利用を習慣化
2. ⬜ Pause時の対応フローを確認

### 2月Week 3（2026/2/12 - 2/18）
1. ⬜ 家族テストフェーズの準備
2. ⬜ Proプラン移行の判断基準を明確化

---

**作成日**: 2026年1月29日 05:34  
**作成者**: isekaisaru  
**目的**: Supabase pause を前提にした運用設計を明確化し、面談での説明テンプレートを作成
